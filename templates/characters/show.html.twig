{% extends 'base.html.twig' %}
{% block title %}{{ character ? character.name : 'Character Not Found' }}{% endblock %}
{% block body %}
  <div class="max-w-xl mx-auto py-10">
    {% if character %}
      <div class="flex flex-col items-center gap-6">
        <h1 class="text-3xl font-bold text-blue-700">{{ character.name }}</h1>
        {% include 'components/_nav_links.html.twig' %}
        <img src="{{ character.image }}" alt="{{ character.name }}'s image"
             class="w-40 h-40 rounded-full shadow-lg border-4 border-blue-200 object-cover">
        <ul class="w-full space-y-2 text-lg">
          <li><span class="font-semibold text-gray-800">Status:</span> {{ character.status }}</li>
          <li><span class="font-semibold text-gray-800">Species:</span> {{ character.species }}</li>
          <li><span class="font-semibold text-gray-800">Gender:</span> {{ character.gender }}</li>
          <li><span class="font-semibold text-gray-800">Origin:</span> {{ character.origin.name }}</li>
          <li>
            <span class="font-semibold text-gray-800">Last Known Location:</span> {{ character.location.name }}
            {% if dimension %}
              <span class="text-xs text-gray-500">(Dimension: {{ dimension }})</span>
            {% endif %}
          </li>
          <li>
            <span class="font-semibold text-gray-800">Appears in Episodes:</span>
            <ul class="list-disc list-inside text-base mt-1">
              {% for ep in character.episodes %}
                {% set epId = ep.url|split('/')|last %}
                <li>
                  <a href="{{ path('episode_show', {episodeIdOrName: epId}) }}"
                    class="text-blue-600 hover:underline">Episode {{ epId }}</a>
                </li>
              {% endfor %}
            </ul>
          </li>
        </ul>
      </div>
    {% else %}
      <h1 class="text-2xl font-bold text-red-600 mb-4">Character not found</h1>
      <p class="text-gray-700">Sorry, no character exists with that ID.</p>
    {% endif %}
  </div>
{% endblock %}